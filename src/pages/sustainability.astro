---
import BaseLayout from '../layouts/BaseLayout.astro';

// Calculate approximate stats
const hostingProvider = 'Microsoft Azure';
const cdnProvider = 'Cloudflare';
const aiProvider = 'Azure OpenAI';

// Azure sustainability stats (from Microsoft's published data)
const azureStats = {
  renewableEnergy: 100, // % achieved in 2025
  carbonNegativeBy: 2030,
  energyEfficiencyVsOnPrem: 93, // %
  carbonEfficiencyVsOnPrem: 98, // %
  pueRatio: 1.12, // Power Usage Effectiveness (industry avg is 1.4)
};

// Cloudflare sustainability stats
const cloudflareStats = {
  renewableEnergy: 100, // %
  carbonReductionSmallBiz: 96, // % vs on-prem
  carbonReductionEnterprise: 78, // % vs on-prem
};

// GitHub sustainability stats
const githubStats = {
  carbonNeutralSince: 2019,
  waterPositiveBy: 2030,
};
---

<BaseLayout
  title="Environmental Sustainability - BayNavigator"
  description="Learn about BayNavigator's commitment to environmental sustainability and our green software practices."
>
  <main class="container mx-auto px-4 py-8 max-w-4xl">
    <!-- Hero Section -->
    <div class="text-center mb-12">
      <div class="inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full mb-4">
        <svg class="w-8 h-8 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      </div>
      <h1 class="text-3xl md:text-4xl font-bold text-neutral-900 dark:text-white mb-4">
        Environmental Sustainability
      </h1>
      <p class="text-lg text-neutral-600 dark:text-neutral-300 max-w-2xl mx-auto">
        As an environmental nonprofit, we're committed to practicing what we preach.
        Here's how BayNavigator minimizes its digital carbon footprint.
      </p>
    </div>

    <!-- Live Carbon Dashboard -->
    <section class="bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-2xl p-6 mb-8 border border-green-200 dark:border-green-800">
      <div class="flex items-center gap-3 mb-4">
        <div id="dashboard-indicator" class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
        <h2 class="text-xl font-semibold text-neutral-900 dark:text-white">Carbon Dashboard</h2>
        <span id="dashboard-status" class="text-xs bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 px-2 py-0.5 rounded-full">Live</span>
      </div>
      <p class="text-neutral-600 dark:text-neutral-300 mb-4">
        Monthly estimated carbon footprint from our Azure, Cloudflare, and GitHub infrastructure.
        All providers use 100% renewable energy.
      </p>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
        <div class="bg-white/50 dark:bg-neutral-800/50 rounded-lg p-4">
          <div id="stat-emissions" class="text-2xl font-bold text-green-600 dark:text-green-400">0</div>
          <div class="text-xs text-neutral-500 dark:text-neutral-400">Net kg CO₂e / month</div>
        </div>
        <div class="bg-white/50 dark:bg-neutral-800/50 rounded-lg p-4">
          <div id="stat-gross" class="text-2xl font-bold text-green-600 dark:text-green-400">~2.8</div>
          <div class="text-xs text-neutral-500 dark:text-neutral-400">Gross kg (offset)</div>
        </div>
        <div class="bg-white/50 dark:bg-neutral-800/50 rounded-lg p-4">
          <div id="stat-renewable" class="text-2xl font-bold text-green-600 dark:text-green-400">100%</div>
          <div class="text-xs text-neutral-500 dark:text-neutral-400">Renewable energy</div>
        </div>
        <div class="bg-white/50 dark:bg-neutral-800/50 rounded-lg p-4">
          <div id="stat-rating" class="text-2xl font-bold text-green-600 dark:text-green-400">A+</div>
          <div class="text-xs text-neutral-500 dark:text-neutral-400">Green rating</div>
        </div>
      </div>

      <!-- Emissions breakdown -->
      <div class="mt-4 pt-4 border-t border-green-200 dark:border-green-800">
        <div class="text-xs text-neutral-500 dark:text-neutral-400 mb-2">Estimated monthly breakdown (grams CO₂e, before offset):</div>
        <div class="flex flex-wrap gap-2 text-xs">
          <span id="breakdown-hosting" class="bg-white/70 dark:bg-neutral-800/70 px-2 py-1 rounded">Hosting: ~2,000g</span>
          <span id="breakdown-ai" class="bg-white/70 dark:bg-neutral-800/70 px-2 py-1 rounded">Smart Search: ~750g</span>
          <span id="breakdown-ci" class="bg-white/70 dark:bg-neutral-800/70 px-2 py-1 rounded">CI/CD: ~48g</span>
          <span id="breakdown-cdn" class="bg-white/70 dark:bg-neutral-800/70 px-2 py-1 rounded">CDN: ~5g</span>
        </div>
      </div>

      <!-- Equivalents -->
      <div class="mt-3 text-xs text-neutral-500 dark:text-neutral-400">
        <span id="stat-equivalents">Equivalent to driving ~0.007 miles or printing ~280 pages—fully offset by renewable energy.</span>
      </div>
    </section>

    <!-- Our Green Stack -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-neutral-900 dark:text-white mb-6">Our Green Technology Stack</h2>

      <div class="space-y-6">
        <!-- Azure -->
        <div class="bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-sm border border-neutral-200 dark:border-neutral-700">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center flex-shrink-0">
              <svg class="w-7 h-7 text-blue-600 dark:text-blue-400" viewBox="0 0 96 96" fill="currentColor">
                <path d="M54.4 12.3L34.1 52.5l31.3 5.5L61.7 12H54.4zM29 56.1l-16.7-8.7-.3 30.9L29 68.4V56.1zm3.6 5.2l-.1.1 16 12 13-5.1-28.9-7z"/>
              </svg>
            </div>
            <div class="flex-1">
              <h3 class="text-lg font-semibold text-neutral-900 dark:text-white mb-2">Microsoft Azure Static Web Apps</h3>
              <p class="text-neutral-600 dark:text-neutral-300 text-sm mb-3">
                Our website is hosted on Azure, which has been carbon neutral since 2012 and achieved 100% renewable energy in 2025.
              </p>
              <div class="grid grid-cols-2 md:grid-cols-4 gap-3 text-sm">
                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center">
                  <div class="font-bold text-green-700 dark:text-green-400">{azureStats.renewableEnergy}%</div>
                  <div class="text-xs text-neutral-500 dark:text-neutral-400">Renewable energy</div>
                </div>
                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center">
                  <div class="font-bold text-green-700 dark:text-green-400">{azureStats.energyEfficiencyVsOnPrem}%</div>
                  <div class="text-xs text-neutral-500 dark:text-neutral-400">More efficient</div>
                </div>
                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center">
                  <div class="font-bold text-green-700 dark:text-green-400">{azureStats.pueRatio}</div>
                  <div class="text-xs text-neutral-500 dark:text-neutral-400">PUE ratio</div>
                </div>
                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center">
                  <div class="font-bold text-green-700 dark:text-green-400">{azureStats.carbonNegativeBy}</div>
                  <div class="text-xs text-neutral-500 dark:text-neutral-400">Carbon negative</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Cloudflare -->
        <div class="bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-sm border border-neutral-200 dark:border-neutral-700">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center flex-shrink-0">
              <svg class="w-7 h-7 text-orange-500 dark:text-orange-400" viewBox="0 0 128 128" fill="currentColor">
                <path d="M99.4 66.6c-1.2-4.2-4.5-6.7-8.8-6.9l-56.8-.6c-.4 0-.8-.2-1.1-.5-.3-.3-.3-.7-.2-1 .2-.6.7-1 1.3-1.1l57.3-.6c5.2-.3 10.8-4.4 12.9-9.6l3-7.4c.1-.3.2-.6.2-1 0-.6-.2-1.1-.6-1.5-6.9-8.5-17.4-14-29.2-14-17.8 0-32.9 11.9-37.5 28.2-3.2-2.3-7.2-3.8-11.7-3.6-8.3.2-15.1 6.8-15.7 15.1-.1 1.7 0 3.3.4 4.8C5.7 69.5 0 78.4 0 88.6c0 1 .1 1.9.2 2.9.1.9.9 1.5 1.8 1.5h102.9c1 0 1.8-.6 2.1-1.6l1.3-4.9c1-3.3.6-6.4-1-8.3-.8-.9-1.8-1.6-3-1.9l-4.9-1.3z"/>
              </svg>
            </div>
            <div class="flex-1">
              <h3 class="text-lg font-semibold text-neutral-900 dark:text-white mb-2">Cloudflare CDN & Security</h3>
              <p class="text-neutral-600 dark:text-neutral-300 text-sm mb-3">
                Cloudflare powers our content delivery with 100% renewable energy and achieved net-zero emissions in 2025.
              </p>
              <div class="grid grid-cols-3 gap-3 text-sm">
                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center">
                  <div class="font-bold text-green-700 dark:text-green-400">{cloudflareStats.renewableEnergy}%</div>
                  <div class="text-xs text-neutral-500 dark:text-neutral-400">Renewable energy</div>
                </div>
                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center">
                  <div class="font-bold text-green-700 dark:text-green-400">Up to {cloudflareStats.carbonReductionSmallBiz}%</div>
                  <div class="text-xs text-neutral-500 dark:text-neutral-400">Carbon reduction</div>
                </div>
                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center">
                  <div class="font-bold text-green-700 dark:text-green-400">Net Zero</div>
                  <div class="text-xs text-neutral-500 dark:text-neutral-400">Since 2025</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- GitHub -->
        <div class="bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-sm border border-neutral-200 dark:border-neutral-700">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 bg-neutral-100 dark:bg-neutral-700 rounded-lg flex items-center justify-center flex-shrink-0">
              <svg class="w-6 h-6 text-neutral-700 dark:text-neutral-300" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
              </svg>
            </div>
            <div class="flex-1">
              <h3 class="text-lg font-semibold text-neutral-900 dark:text-white mb-2">GitHub</h3>
              <p class="text-neutral-600 dark:text-neutral-300 text-sm mb-3">
                Our code is hosted on GitHub, which has been net-zero carbon since 2019. They're also a co-founder of the Green Software Foundation.
              </p>
              <div class="grid grid-cols-2 gap-3 text-sm">
                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center">
                  <div class="font-bold text-green-700 dark:text-green-400">Since {githubStats.carbonNeutralSince}</div>
                  <div class="text-xs text-neutral-500 dark:text-neutral-400">Net-zero carbon</div>
                </div>
                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center">
                  <div class="font-bold text-green-700 dark:text-green-400">{githubStats.waterPositiveBy}</div>
                  <div class="text-xs text-neutral-500 dark:text-neutral-400">Water positive target</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Azure OpenAI -->
        <div class="bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-sm border border-neutral-200 dark:border-neutral-700">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center flex-shrink-0">
              <svg class="w-6 h-6 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
              </svg>
            </div>
            <div class="flex-1">
              <h3 class="text-lg font-semibold text-neutral-900 dark:text-white mb-2">Azure OpenAI (Smart Search)</h3>
              <p class="text-neutral-600 dark:text-neutral-300 text-sm mb-3">
                Our Smart Search uses Azure OpenAI, running on Microsoft's carbon-neutral infrastructure with the same sustainability commitments as Azure.
              </p>
              <div class="grid grid-cols-2 gap-3 text-sm">
                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center">
                  <div class="font-bold text-green-700 dark:text-green-400">Carbon Neutral</div>
                  <div class="text-xs text-neutral-500 dark:text-neutral-400">Azure infrastructure</div>
                </div>
                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center">
                  <div class="font-bold text-green-700 dark:text-green-400">GPT-4o-mini</div>
                  <div class="text-xs text-neutral-500 dark:text-neutral-400">Efficient model</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Green Software Practices -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-neutral-900 dark:text-white mb-6">Our Green Software Practices</h2>

      <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-white dark:bg-neutral-800 rounded-xl p-5 shadow-sm border border-neutral-200 dark:border-neutral-700">
          <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center mb-3">
            <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>
          <h3 class="font-semibold text-neutral-900 dark:text-white mb-2">Static Site Generation</h3>
          <p class="text-sm text-neutral-600 dark:text-neutral-300">
            BayNavigator is built with Astro, generating static HTML at build time. This means minimal server processing per request, reducing energy consumption.
          </p>
        </div>

        <div class="bg-white dark:bg-neutral-800 rounded-xl p-5 shadow-sm border border-neutral-200 dark:border-neutral-700">
          <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center mb-3">
            <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4" />
            </svg>
          </div>
          <h3 class="font-semibold text-neutral-900 dark:text-white mb-2">Edge Caching</h3>
          <p class="text-sm text-neutral-600 dark:text-neutral-300">
            Content is cached at Cloudflare's edge locations worldwide, reducing data transfer distances and server load.
          </p>
        </div>

        <div class="bg-white dark:bg-neutral-800 rounded-xl p-5 shadow-sm border border-neutral-200 dark:border-neutral-700">
          <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center mb-3">
            <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z" />
            </svg>
          </div>
          <h3 class="font-semibold text-neutral-900 dark:text-white mb-2">Minimal JavaScript</h3>
          <p class="text-sm text-neutral-600 dark:text-neutral-300">
            We ship minimal JavaScript to browsers, reducing download sizes and client-side processing energy.
          </p>
        </div>

        <div class="bg-white dark:bg-neutral-800 rounded-xl p-5 shadow-sm border border-neutral-200 dark:border-neutral-700">
          <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center mb-3">
            <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
            </svg>
          </div>
          <h3 class="font-semibold text-neutral-900 dark:text-white mb-2">On-Device Processing</h3>
          <p class="text-sm text-neutral-600 dark:text-neutral-300">
            Location features use on-device GPS and Haversine calculations—your coordinates never leave your device, saving server round-trips.
          </p>
        </div>

        <div class="bg-white dark:bg-neutral-800 rounded-xl p-5 shadow-sm border border-neutral-200 dark:border-neutral-700">
          <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center mb-3">
            <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
          </div>
          <h3 class="font-semibold text-neutral-900 dark:text-white mb-2">Paperless by Design</h3>
          <p class="text-sm text-neutral-600 dark:text-neutral-300">
            By digitizing benefit discovery, we help reduce paper applications, mailings, and in-person visits that generate transportation emissions.
          </p>
        </div>

        <div class="bg-white dark:bg-neutral-800 rounded-xl p-5 shadow-sm border border-neutral-200 dark:border-neutral-700">
          <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center mb-3">
            <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
            </svg>
          </div>
          <h3 class="font-semibold text-neutral-900 dark:text-white mb-2">Strategic AI Use</h3>
          <p class="text-sm text-neutral-600 dark:text-neutral-300">
            Our Smart Assistant uses AI intentionally—helping users find resources efficiently rather than requiring multiple searches or phone calls.
          </p>
        </div>
      </div>
    </section>

    <!-- Comparison Section -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-neutral-900 dark:text-white mb-6">Environmental Impact Comparison</h2>

      <div class="bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-sm border border-neutral-200 dark:border-neutral-700">
        <p class="text-neutral-600 dark:text-neutral-300 mb-6">
          Traditional benefit discovery often involves paper applications, phone calls, and in-person visits.
          Here's how BayNavigator's digital approach compares:
        </p>

        <div class="space-y-4">
          <div class="flex items-center gap-4">
            <div class="w-24 text-sm text-neutral-500 dark:text-neutral-400">Paper forms</div>
            <div class="flex-1 bg-red-100 dark:bg-red-900/30 rounded-full h-6 relative">
              <div class="absolute inset-y-0 left-2 flex items-center text-xs font-medium text-red-700 dark:text-red-300">~10g CO₂ per page printed</div>
            </div>
          </div>
          <div class="flex items-center gap-4">
            <div class="w-24 text-sm text-neutral-500 dark:text-neutral-400">Driving visit</div>
            <div class="flex-1 bg-red-100 dark:bg-red-900/30 rounded-full h-6 relative">
              <div class="absolute inset-y-0 left-2 flex items-center text-xs font-medium text-red-700 dark:text-red-300">~400g CO₂ per mile</div>
            </div>
          </div>
          <div class="flex items-center gap-4">
            <div class="w-24 text-sm text-neutral-500 dark:text-neutral-400">BayNavigator</div>
            <div class="flex-1 relative">
              <div class="bg-green-500 dark:bg-green-600 rounded-full h-6 w-1/6"></div>
              <div class="absolute inset-y-0 left-2 flex items-center text-xs font-medium text-white">~0.2g CO₂ per visit</div>
            </div>
          </div>
        </div>

        <p class="text-xs text-neutral-500 dark:text-neutral-400 mt-4">
          * Estimates based on EPA emissions data and website carbon calculators. Actual values vary by usage patterns.
        </p>
      </div>
    </section>

    <!-- Certifications & Badges -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-neutral-900 dark:text-white mb-6">Certifications & Commitments</h2>

      <div class="grid md:grid-cols-3 gap-4">
        <a href="https://www.thegreenwebfoundation.org/" target="_blank" rel="noopener"
           class="bg-white dark:bg-neutral-800 rounded-xl p-4 shadow-sm border border-neutral-200 dark:border-neutral-700 hover:border-green-300 dark:hover:border-green-700 transition-colors text-center">
          <div class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-3">
            <svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <h3 class="font-semibold text-neutral-900 dark:text-white text-sm mb-1">Green Web Foundation</h3>
          <p class="text-xs text-neutral-500 dark:text-neutral-400">Verified green hosting</p>
        </a>

        <a href="https://greensoftware.foundation/" target="_blank" rel="noopener"
           class="bg-white dark:bg-neutral-800 rounded-xl p-4 shadow-sm border border-neutral-200 dark:border-neutral-700 hover:border-green-300 dark:hover:border-green-700 transition-colors text-center">
          <div class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-3">
            <svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
            </svg>
          </div>
          <h3 class="font-semibold text-neutral-900 dark:text-white text-sm mb-1">Green Software Principles</h3>
          <p class="text-xs text-neutral-500 dark:text-neutral-400">Following GSF best practices</p>
        </a>

        <a href="https://sdgs.un.org/goals" target="_blank" rel="noopener"
           class="bg-white dark:bg-neutral-800 rounded-xl p-4 shadow-sm border border-neutral-200 dark:border-neutral-700 hover:border-green-300 dark:hover:border-green-700 transition-colors text-center">
          <div class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-3">
            <svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <h3 class="font-semibold text-neutral-900 dark:text-white text-sm mb-1">UN SDG Aligned</h3>
          <p class="text-xs text-neutral-500 dark:text-neutral-400">Goals 7, 12, 13</p>
        </a>
      </div>
    </section>

    <!-- Resources -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-neutral-900 dark:text-white mb-6">Learn More</h2>

      <div class="bg-neutral-50 dark:bg-neutral-800/50 rounded-xl p-6">
        <h3 class="font-semibold text-neutral-900 dark:text-white mb-4">Green Software Resources</h3>
        <ul class="space-y-2 text-sm">
          <li>
            <a href="https://greensoftware.foundation/" target="_blank" rel="noopener" class="text-primary-600 dark:text-primary-400 hover:underline flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
              Green Software Foundation
            </a>
          </li>
          <li>
            <a href="https://github.com/collections/green-software" target="_blank" rel="noopener" class="text-primary-600 dark:text-primary-400 hover:underline flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
              GitHub Green Software Collection
            </a>
          </li>
          <li>
            <a href="https://www.websitecarbon.com/" target="_blank" rel="noopener" class="text-primary-600 dark:text-primary-400 hover:underline flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
              Website Carbon Calculator
            </a>
          </li>
          <li>
            <a href="https://datacenters.microsoft.com/globe/powering-sustainable-transformation/" target="_blank" rel="noopener" class="text-primary-600 dark:text-primary-400 hover:underline flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
              Azure Sustainability
            </a>
          </li>
          <li>
            <a href="https://www.cloudflare.com/impact/" target="_blank" rel="noopener" class="text-primary-600 dark:text-primary-400 hover:underline flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
              Cloudflare Impact Report
            </a>
          </li>
        </ul>
      </div>
    </section>

    <!-- Sponsors -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-neutral-900 dark:text-white mb-4 text-center">Thank You to Our Sponsors</h2>
      <p class="text-neutral-600 dark:text-neutral-300 text-center mb-8 max-w-2xl mx-auto">
        Bay Navigator is made possible by generous donations from these organizations, providing the infrastructure that powers our green technology stack.
      </p>

      <div class="grid md:grid-cols-2 gap-6">
        <!-- Microsoft -->
        <a href="https://www.microsoft.com/en-us/nonprofits" target="_blank" rel="noopener"
           class="bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-sm border border-neutral-200 dark:border-neutral-700 hover:border-blue-300 dark:hover:border-blue-700 transition-colors flex flex-col items-center text-center">
          <svg class="w-40 h-10 mb-4" viewBox="0 0 512 110" fill="currentColor">
            <path class="text-[#F25022]" d="M0 0h52v52H0z" fill="#F25022"/>
            <path class="text-[#7FBA00]" d="M57 0h52v52H57z" fill="#7FBA00"/>
            <path class="text-[#00A4EF]" d="M0 57h52v52H0z" fill="#00A4EF"/>
            <path class="text-[#FFB900]" d="M57 57h52v52H57z" fill="#FFB900"/>
            <path class="text-neutral-800 dark:text-white" d="M130 28h6.5l10.3 28.8h.1l10.3-28.8h6.2l-13.5 36h-6.5L130 28zm39.6 0h6v36h-6V28zm15.3 0h6.4l15.3 27.4h.1V28h6v36h-6.2l-15.5-28h-.1v28h-6V28zm42.1 5.3h-10V28h26v5.3h-10V64h-6V33.3zm18 .8c1.9-2.3 5.2-4.1 9.5-4.1 7.5 0 10.8 4.3 10.8 10.5V64h-6V42c0-4-1.6-7-6.3-7-4.6 0-8 3.3-8 8.2V64h-6V30.3h6v3.8zm32.3-6.1h6v36h-6V28zm21.1 5.3h-10V28h26v5.3h-10V64h-6V33.3z"/>
          </svg>
          <h3 class="font-semibold text-neutral-900 dark:text-white mb-2">Microsoft for Nonprofits</h3>
          <p class="text-sm text-neutral-600 dark:text-neutral-400">
            Azure credits & GitHub Team sponsorship enabling our cloud infrastructure and collaborative development.
          </p>
        </a>

        <!-- Cloudflare -->
        <a href="https://www.cloudflare.com/galileo/" target="_blank" rel="noopener"
           class="bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-sm border border-neutral-200 dark:border-neutral-700 hover:border-orange-300 dark:hover:border-orange-700 transition-colors flex flex-col items-center text-center">
          <svg class="w-40 h-10 mb-4 text-[#F38020]" viewBox="0 0 283 64" fill="currentColor">
            <path d="M55.5 32.5c-.7-2.4-2.6-3.9-5-4l-32.4-.3c-.2 0-.5-.1-.6-.3-.2-.2-.2-.4-.1-.6.1-.3.4-.6.7-.6l32.7-.3c3-.2 6.2-2.5 7.4-5.5l1.7-4.2c.1-.2.1-.3.1-.6 0-.3-.1-.6-.3-.9-4-4.9-10-8-16.7-8-10.2 0-18.8 6.8-21.4 16.1-1.8-1.3-4.1-2.2-6.7-2.1-4.7.1-8.6 3.9-9 8.6 0 1 0 1.9.2 2.8C2.9 33.9 0 39 0 44.8c0 .6 0 1.1.1 1.7.1.5.5.9 1 .9h58.8c.6 0 1-.4 1.2-.9l.7-2.8c.6-1.9.3-3.6-.6-4.7-.4-.5-1-.9-1.7-1.1l-4-1.4z"/>
            <path class="text-neutral-800 dark:text-white" d="M100.2 22.5c-7.3 0-12.5 5.4-12.5 13.8 0 8.1 4.6 13.5 12.8 13.5 4.5 0 8.1-1.5 10.5-4.3l-3.8-4.2c-1.6 1.6-3.7 2.5-6.2 2.5-3.4 0-5.5-1.6-6.1-4.8h17.4c.1-.7.2-1.6.2-2.5 0-9-4.5-14-12.3-14zm-5.6 11c.5-3.4 2.5-5.3 5.5-5.3 3.2 0 5 2 5.2 5.3H94.6zm32.7-11c-3.6 0-6.3 1.6-8 4.1v-3.4h-6.7v25.9h7V36.8c0-3.6 2-6 5.2-6 2.9 0 4.5 1.9 4.5 5.2v13.1h7V34.5c0-6.5-3.3-12-9-12zm22.7-.1c-3.6 0-6.1 1.3-7.7 3.2v-2.5h-6.6V59h7V46.4c1.5 2 4.1 3.4 7.4 3.4 6.5 0 11.2-5.4 11.2-13.7 0-8.5-4.6-13.7-11.3-13.7zm-1.8 21.3c-3.3 0-5.8-2.7-5.8-7.5 0-4.9 2.5-7.7 5.8-7.7 3.4 0 5.8 2.7 5.8 7.6 0 4.9-2.4 7.6-5.8 7.6zm27.9-21.2v10.4L165 22.7h-8.4l13.8 13-14.2 13.4h8.6l11.3-10.9v10.9h7V22.7h-7z"/>
          </svg>
          <h3 class="font-semibold text-neutral-900 dark:text-white mb-2">Cloudflare Project Galileo</h3>
          <p class="text-sm text-neutral-600 dark:text-neutral-400">
            Business-tier CDN, security, and performance services protecting and accelerating Bay Navigator.
          </p>
        </a>
      </div>
    </section>

    <!-- Call to Action -->
    <section class="text-center">
      <div class="bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl p-8 text-white">
        <h2 class="text-2xl font-bold mb-3">Questions About Our Sustainability?</h2>
        <p class="mb-6 opacity-90">
          We're committed to transparency. If you have questions about our environmental practices or suggestions for improvement, we'd love to hear from you.
        </p>
        <a href="/about" class="inline-flex items-center gap-2 bg-white text-green-700 px-6 py-3 rounded-lg font-semibold hover:bg-green-50 transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
          </svg>
          Contact Us
        </a>
      </div>
    </section>
  </main>

  <script>
    // Fetch carbon stats from Azure Function API
    async function loadCarbonStats() {
      const API_URL = '/api/carbon-stats';

      try {
        const response = await fetch(API_URL);
        if (!response.ok) throw new Error('API unavailable');

        const data = await response.json();

        // Update dashboard stats
        const statEmissions = document.getElementById('stat-emissions');
        const statGross = document.getElementById('stat-gross');
        const statRenewable = document.getElementById('stat-renewable');
        const statRating = document.getElementById('stat-rating');

        if (statEmissions) statEmissions.textContent = data.summary.netEmissionsKg;
        if (statGross) statGross.textContent = `~${data.summary.totalGrossEmissionsKg}`;
        if (statRenewable) statRenewable.textContent = `${data.summary.renewableEnergyPercent}%`;
        if (statRating) statRating.textContent = data.summary.greenRating;

        // Update breakdown
        const breakdownHosting = document.getElementById('breakdown-hosting');
        const breakdownAi = document.getElementById('breakdown-ai');
        const breakdownCi = document.getElementById('breakdown-ci');
        const breakdownCdn = document.getElementById('breakdown-cdn');

        if (breakdownHosting) breakdownHosting.textContent = `Hosting: ~${data.emissionsBySource.hosting.grams}g`;
        if (breakdownAi) breakdownAi.textContent = `Smart Search: ~${data.emissionsBySource.ai.grams}g`;
        if (breakdownCi) breakdownCi.textContent = `CI/CD: ~${data.emissionsBySource.ci.grams}g`;
        if (breakdownCdn) breakdownCdn.textContent = `CDN: ~${data.emissionsBySource.cdn.grams}g`;

        // Update equivalents
        const statEquivalents = document.getElementById('stat-equivalents');
        if (statEquivalents) {
          statEquivalents.textContent = `Equivalent to driving ~${data.comparison.equivalentMilesDriven} miles or printing ~${data.comparison.equivalentPaperPages} pages—fully offset by renewable energy.`;
        }

        // Update status indicator
        const dashboardStatus = document.getElementById('dashboard-status');
        if (dashboardStatus) {
          dashboardStatus.textContent = 'Live';
          dashboardStatus.className = 'text-xs bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 px-2 py-0.5 rounded-full';
        }

      } catch (error) {
        console.log('Using static carbon estimates:', error.message);
        // Keep the static defaults - they're reasonable estimates
        const dashboardStatus = document.getElementById('dashboard-status');
        if (dashboardStatus) {
          dashboardStatus.textContent = 'Estimated';
          dashboardStatus.className = 'text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 px-2 py-0.5 rounded-full';
        }
      }
    }

    // Load stats when page is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', loadCarbonStats);
    } else {
      loadCarbonStats();
    }
  </script>
</BaseLayout>
